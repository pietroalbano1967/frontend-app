<div class="card">
    <h2>Storico Previsioni</h2>
    <form (ngSubmit)="load()" class="form">
        <label>
            Ticker
            <select [(ngModel)]="ticker" name="ticker">
                <option *ngFor="let t of tickers" [value]="t">{{ t }}</option>
            </select>
        </label>
        <label>
            Limite
            <input type="number" [(ngModel)]="limit" name="limit" />
        </label>
        <button type="submit">Carica</button>
    </form>
</div>

<div class="card chart" *ngIf="rows.length">
    <canvas baseChart [data]="lineChartData" [options]="lineChartOptions" [type]="'line'">
    </canvas>
</div>

<div class="card" *ngIf="rows.length">
    <h3>Tabella</h3>
    <table>
        <thead>
            <tr>
                <th>TS</th>
                <th>yhat</th>
                <th>Model</th>
                <th>Creato</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let r of rows">
                <td>{{ r.ts }}</td>
                <td>{{ r.yhat | number:'1.2-2' }}</td>
                <td>{{ r.model }}</td>
                <td>{{ r.created_at }}</td>
            </tr>
        </tbody>
    </table>
</div>